//<<Борзилов С 15.08.2023 ТЗ  Доработка документа ППО «Заказ-наряд» в базе DMS 
	Пользователь = Пользователи.ТекущийПользователь();
	СотрудникДляПроверки = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Пользователь,"Сотрудник"); 
	Если ЗначениеЗаполнено(СотрудникДляПроверки) Тогда
		ТиповаяДолжностьСотрудника = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СотрудникДляПроверки,"ТиповаяДолжность");	
	КонецЕсли;
	
	Если Не ТиповаяДолжностьСотрудника = Справочники.ТиповыеДолжности.ИнженерПоГарантии Тогда
		//>>Борзилов С
		ПодвидРемонта = Справочники.ПодвидыРемонта.НайтиПоКоду("000000001");
		//<<Борзилов С 15.08.2023 ТЗ Доработка документа ППО «Заказ-наряд» в базе DMS   
	КонецЕсли;
	//>>Борзилов С

//<<Борзилов С 14.08.2023 ТЗ Доработка документа ППО «Заказ-наряд» в базе DMS.
		ПеремПодвидРемонта = Справочники.ПредопределенныеЭлементы.Справочник_Контрагенты_КонтрагентТехническойПоддержкиКЛЮЧАВТО;
		Если ПодвидРемонта = ПеремПодвидРемонта.Элемент Тогда
			Если ПеремПодвидРемонта.СписокЭлементов.Количество() > 0 Тогда
				Контрагент = ПеремПодвидРемонта.СписокЭлементов[0].Элемент;
			КонецЕсли;
			
		КонецЕсли;
		
		
		//>>Борзилов С

//<<Борзилов С 11.08.2023 ТЗ Доработка документа ППО «Заказ-наряд» в базе DMS\
	Если БлокироватьВыборПВРКоммерческийФлит() И БлокироватьВыборВсеПВРКромеКоммерческих() Тогда
		
		Пользователь = Пользователи.ТекущийПользователь();
		СотрудникДляПроверки = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Пользователь,"Сотрудник"); 
		Если ЗначениеЗаполнено(СотрудникДляПроверки) Тогда
			ТиповаяДолжностьСотрудника = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СотрудникДляПроверки,"ТиповаяДолжность");	
		КонецЕсли;
		
		Если ТиповаяДолжностьСотрудника = Справочники.ТиповыеДолжности.ИнженерПоГарантии Тогда	
			
			Запрос = Новый Запрос;
			Запрос.Текст = 
			"ВЫБРАТЬ
			|	ПодвидыРемонта.Ссылка КАК Ссылка,
			|	ПодвидыРемонта.ТипРемонта КАК ТипРемонта,
			|	ПодвидыРемонта.Владелец.Ссылка КАК ВладелецСсылка
			|ИЗ
			|	Справочник.ПодвидыРемонта КАК ПодвидыРемонта
			|ГДЕ
			|	НЕ ПодвидыРемонта.ПометкаУдаления
			|	И ПодвидыРемонта.Ссылка <> &Ссылка
			|	И ПодвидыРемонта.ОсобыйПодвид = &ОсобыйПодвид
			|	И НЕ ПодвидыРемонта.НеИспользовать"
			;
			Запрос.УстановитьПараметр("ОсобыйПодвид",Перечисления.ОсобыеПодвидыРемонта.Коммерческий);
			Запрос.УстановитьПараметр("Ссылка",ПВРКоммерческийФлитСсылка);
			ДляВыборки = Запрос.Выполнить().Выгрузить().ВыгрузитьКолонку("Ссылка");
			
			СписокДляОтбора = Новый СписокЗначений;
			СписокДляОтбора.ЗагрузитьЗначения(ДляВыборки);
			СписокДляОтбора.Добавить(Справочники.ПредопределенныеЭлементы.ПолучитьЗначение("Справочник_Контрагенты_КонтрагентТехническойПоддержкиКЛЮЧАВТО"));
			
			
			ФормаСпискаПодвидов.Отбор.Ссылка.ВидСравнения = ВидСравнения.ВСписке;
			ФормаСпискаПодвидов.Отбор.Ссылка.Значение = СписокДляОтбора;
			ФормаСпискаПодвидов.Отбор.Ссылка.Использование = Истина;
			
			
			ФормаСпискаПодвидов.Отбор.ОсобыйПодвид.Использование = Ложь;
		КонецЕсли;
	КонецЕсли;
	//>>Борзилов С
